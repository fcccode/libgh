head	1.3;
access;
symbols;
locks
	pi:1.3; strict;
comment	@ * @;


1.3
date	2016.01.13.08.52.04;	author pi;	state Exp;
branches;
next	1.2;

1.2
date	2015.12.11.17.45.12;	author pi;	state Exp;
branches;
next	1.1;

1.1
date	2015.12.11.03.26.06;	author pi;	state Exp;
branches;
next	;


desc
@Unit Test for window interface
@


1.3
log
@Update with more API
Additional creation tests
@
text
@/* -*- Mode: C; tab-width: 2; indent-tabs-mode: t; c-basic-offset: 2 -*- */
/* t_window.c
 *
 * Updated for 1.x
 * 
 * Copyright (c) 2015-2016, polarysekt
 */

#include "tst.h"

void showWindowGeometry( ghWINDOW* pw ) {

  gh_printf( "X, Y   : %d, %d\n", ghWindowGetX(pw), ghWindowGetY(pw) );
  gh_printf( "X2, Y2 : %d, %d\n", ghWindowGetX2(pw), ghWindowGetY2(pw) );
  gh_printf( "W, H   : %d, %d\n", ghWindowGetWidth(pw), ghWindowGetHeight(pw) );
  
}

void showWindowDetails( ghWINDOW* pw ) {
  showWindowGeometry( pw );
  /* gh_printf( "TITLE  : %s\n", ghWindowGetCaption(pw) ); */
}

int main( int argc, char** argv ) {
  ghRUNNABLE* pdr;
  ghWINDOW* pmw;
  unsigned int dm;
  unsigned int mww, mwh;
  
  ut_showheader( "t_window", 0 );
  
  /* ut_showsection( "INIT libgh" ); */
  pdr = ghInit( &argc, &argv );
  
  /* ut_showsection( "GET Default Monitor GEOMETRY" ); */
  dm = ghRunnableGetMonitorDefault( pdr );
  ghMonitorGetExtent( dm, &mww, &mwh );
  
  ut_showsection( "CREATE WINDOW / SET EACH A / BEFORE INIT" );
  pmw = ghWindowCreate();
  
  ghWindowSetX( pmw, mww/4 );
  ghWindowSetY( pmw, mwh/4 );
  ghWindowSetWidth( pmw, mww/2 );
  ghWindowSetHeight( pmw, mwh/2 );
  ghWindowSetCaption( pmw, "t_window|E-A|B" );
  showWindowDetails( pmw );

  ut_showsection( "INIT / SHOW WINDOW" );
  pmw = ghWindowInit( pmw );
  ghWindowShow( pmw );
  
  gh_sleep( 3 );

  ut_showsection( "SHUTDOWN / DESTROY WINDOW" );
  ghWindowShutdown( pmw );
  ghWindowDestroy( pmw );
  
  gh_sleep( 1 );

  ut_showsection( "CREATE WINDOW / SET EACH B / BEFORE INIT" );
  pmw = ghWindowCreate();
  
  ghWindowSetX( pmw, mww/4 );
  ghWindowSetY( pmw, mwh/4 );
  ghWindowSetX2( pmw, mww/4*3 );
  ghWindowSetY2( pmw, mwh/4*3 );
  ghWindowSetCaption( pmw, "t_window|E-B|B" );
  showWindowDetails( pmw );

  ut_showsection( "INIT / SHOW WINDOW" );
  pmw = ghWindowInit( pmw );
  ghWindowShow( pmw );
  
  gh_sleep( 3 );

  ut_showsection( "SHUTDOWN / DESTROY WINDOW" );
  ghWindowShutdown( pmw );
  ghWindowDestroy( pmw );
  
  gh_sleep( 1 );

  
  ut_showsection( "CREATE WINDOW / SET PAIRS / BEFORE INIT" );
  pmw = ghWindowCreate();
  
  ghWindowSetPosition( pmw, mww/4, mwh/4 );
  ghWindowSetExtent( pmw, mww/2, mwh/2 );
  ghWindowSetCaption( pmw, "t_window|P|B" );
  showWindowDetails( pmw );

  ut_showsection( "INIT / SHOW WINDOW" );
  pmw = ghWindowInit( pmw );
  ghWindowShow( pmw );
  
  gh_sleep( 3 );
  
  ut_showsection( "SHUTDOWN / DESTROY WINDOW" );
  ghWindowShutdown( pmw );
  ghWindowDestroy( pmw );
  
  gh_sleep( 1 );
  
  ut_showsection( "CREATE WINDOW / SET PAIRS / AFTER INIT" );
  pmw = ghWindowCreate();
  
  ghWindowSetPosition( pmw, mww/4, mwh/4 );
  ghWindowSetExtent( pmw, mww/2, mwh/2 );
  ghWindowSetCaption( pmw, "t_window|P|A" );
  showWindowDetails( pmw );

  ut_showsection( "INIT / SHOW WINDOW" );
  pmw = ghWindowInit( pmw );
  ghWindowShow( pmw );
  
  gh_sleep( 1 );
  
  ghWindowSetPosition( pmw, mww/4, mwh/4 );
  ghWindowSetExtent( pmw, mww/2, mwh/2 );
  ghWindowSetCaption( pmw, "t_window|P|A" );
  showWindowDetails( pmw );
  
  gh_sleep( 3 );
  
  ut_showsection( "SHUTDOWN / DESTROY WINDOW" );
  ghWindowShutdown( pmw );
  ghWindowDestroy( pmw );
  
  gh_sleep( 1 );
  
  /* ut_showsection( "RUN LIBGH" ); */
  ghRun( );
  
  /*
  ghWindowShutdown( pmw );
  ghWindowDestroy( pmw );
  */
  
  ut_showheader( "t_window", 1 );

  
  return 0;
}@


1.2
log
@Update and flesh out tested interfaces
Exercise Get/Set Operations
Format non-debugging output
@
text
@d21 1
a21 1
/*  gh_printf( "TITLE  : %s\n", ghWindowGetCaption(pw) ); */
d32 1
a32 2
  ut_showsection( "INIT libgh" );
  
d35 1
a35 1
  ut_showsection( "GET Default Monitor GEOMETRY" );
d39 1
a39 1
  ut_showsection( "CREATE WINDOW" );
a41 1
  ut_showsection( "SET GEOMETRY EACH" );
d46 28
d75 11
a85 1
  showWindowGeometry( pmw );
a86 1
  ut_showsection( "SET GEOMETRY PAIRS" );
d89 2
d92 9
a100 1
  showWindowGeometry( pmw );
d102 1
a102 6
  ut_showsection( "SET DETAILS" );
  /* ghWindowSetBorderWidth( ) */
  /* ghWindowSetColorBackground( ) */
  /* ghWindowSetColorForeground( ) */
  /* ghWindowSetColorBorder( ) */
  ghWindowSetCaption( pmw, "t_window" );
d104 17
d123 5
a127 2
  ut_showsection( "INIT WINDOW" );
  pmw = ghWindowInit( pmw );
d129 1
a129 2
  ut_showsection( "SHOW WINDOW" );
  ghWindowShow( pmw );
d131 1
a131 1
  ut_showsection( "RUN LIBGH" );
d141 2
@


1.1
log
@Initial revision
@
text
@d11 13
d43 1
a43 2
  ut_showsection( "SET INITIAL VALUES" );
  //ghWindowSetPosition( pmw, mww/4, mwh/4 );
d46 7
d55 7
d63 2
@
